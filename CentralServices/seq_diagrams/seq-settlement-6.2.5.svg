<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1231.8px" preserveAspectRatio="none" style="width:916px;height:1231px;" version="1.1" viewBox="0 0 916 1231" width="916.2px" zoomAndPan="magnify"><defs><filter height="300%" id="f2ax4qq3uxfwg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2000000476837158"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4000000953674316" dy="2.4000000953674316" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244.2" x="336.6" y="14.1211">6.2.5. updateSettlementById PUT: /updateSettlementById</text><rect fill="#FFB6C1" height="1205.0239" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="67.2" x="11.4" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48.6" x="20.7" y="28.234">Central HUB</text><rect fill="#90EE90" height="1205.0239" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="335.7" x="120.3" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74.4" x="250.95" y="28.234">Settlement Service</text><rect fill="#FFFFE0" height="1205.0239" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="68.4" x="697.8" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="699.6" y="28.234">Central Services</text><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="124.2633" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="42" y="88.3723"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="17.5863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="166.8" y="212.6356"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="325.9488" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="166.8" y="832.6887"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="17.5863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="291.6" y="230.2219"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="17.5863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="291.6" y="815.1024"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="920.6157" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="416.4" y="247.8082"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="46.9453" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="729" y="274.3945"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="46.9453" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="729" y="409.0852"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="125.4633" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="729" y="672.0528"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="1071.0516" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="901.8" x="7.8" y="92.5723"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="52.759" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="205.8" x="413.4" y="330.5262"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="33.9727" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="160.8" x="419.4" y="345.1125"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="106.118" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="259.8" x="367.2" y="465.2168"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="87.3316" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="247.8" x="373.2" y="479.8031"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="44.959" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="235.8" x="379.2" y="517.9758"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="75.518" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="499.8" x="379.2" y="579.7348"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="45" x2="45" y1="82.3723" y2="1173.8239"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="169.5" x2="169.5" y1="82.3723" y2="1173.8239"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="294.3" x2="294.3" y1="82.3723" y2="1173.8239"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="419.4" x2="419.4" y1="82.3723" y2="1173.8239"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="732" x2="732" y1="82.3723" y2="1173.8239"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="58.8" x="13.8" y="80.6004">Hub Employee</text><ellipse cx="45" cy="38.2793" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><path d="M45,43.0793 L45,59.2793 M37.2,47.8793 L52.8,47.8793 M45,59.2793 L37.2,68.2793 M45,59.2793 L52.8,68.2793 " fill="none" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="58.8" x="13.8" y="1181.345">Hub Employee</text><ellipse cx="45" cy="1189.1168" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><path d="M45,1193.9168 L45,1210.1168 M37.2,1198.7168 L52.8,1198.7168 M45,1210.1168 L37.2,1219.1168 M45,1210.1168 L52.8,1219.1168 " fill="none" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="90.6" x="122.7" y="80.6004">Settlement Service API</text><path d="M157.5,55.6793 L157.5,70.0793 M157.5,62.8793 L167.7,62.8793 " fill="none" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="174.9" cy="62.8793" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="90.6" x="122.7" y="1181.345">Settlement Service API</text><path d="M157.5,1185.5168 L157.5,1199.9168 M157.5,1192.7168 L167.7,1192.7168 " fill="none" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="174.9" cy="1192.7168" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="43.8" x="270.9" y="80.6004">Settlement</text><ellipse cx="294.6" cy="62.8793" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="292.2,55.6793,295.8,52.6793,294.6,55.6793,295.8,58.6793,292.2,55.6793" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="43.8" x="270.9" y="1181.345">Settlement</text><ellipse cx="294.6" cy="1192.7168" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="292.2,1185.5168,295.8,1182.5168,294.6,1185.5168,295.8,1188.5168,292.2,1185.5168" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="385.2" y="80.6004">Settlement DAO</text><ellipse cx="419.4" cy="62.8793" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><line style="stroke: #A80036; stroke-width: 1.2000000476837158;" x1="412.2" x2="426.6" y1="71.2793" y2="71.2793"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="385.2" y="1181.345">Settlement DAO</text><ellipse cx="419.4" cy="1192.7168" fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><line style="stroke: #A80036; stroke-width: 1.2000000476837158;" x1="412.2" x2="426.6" y1="1201.1168" y2="1201.1168"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="54" x="703.2" y="80.6004">Central Store</text><path d="M721.2,50.8793 C721.2,44.8793 732,44.8793 732,44.8793 C732,44.8793 742.8,44.8793 742.8,50.8793 L742.8,66.4793 C742.8,72.4793 732,72.4793 732,72.4793 C732,72.4793 721.2,72.4793 721.2,66.4793 L721.2,50.8793 " fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><path d="M721.2,50.8793 C721.2,56.8793 732,56.8793 732,56.8793 C732,56.8793 742.8,56.8793 742.8,50.8793 " fill="none" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="54" x="703.2" y="1181.345">Central Store</text><path d="M721.2,1189.1168 C721.2,1183.1168 732,1183.1168 732,1183.1168 C732,1183.1168 742.8,1183.1168 742.8,1189.1168 L742.8,1204.7168 C742.8,1210.7168 732,1210.7168 732,1210.7168 C732,1210.7168 721.2,1210.7168 721.2,1204.7168 L721.2,1189.1168 " fill="#FEFECE" filter="url(#f2ax4qq3uxfwg)" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><path d="M721.2,1189.1168 C721.2,1195.1168 732,1195.1168 732,1195.1168 C732,1195.1168 742.8,1195.1168 742.8,1189.1168 " fill="none" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="124.2633" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="42" y="88.3723"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="17.5863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="166.8" y="212.6356"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="325.9488" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="166.8" y="832.6887"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="17.5863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="291.6" y="230.2219"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="17.5863" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="291.6" y="815.1024"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="920.6157" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="416.4" y="247.8082"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="46.9453" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="729" y="274.3945"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="46.9453" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="729" y="409.0852"/><rect fill="#FFFFFF" filter="url(#f2ax4qq3uxfwg)" height="125.4633" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="729" y="672.0528"/><path d="M7.8,92.5723 L166.2,92.5723 L166.2,96.7723 L160.2,102.7723 L7.8,102.7723 L7.8,92.5723 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="1071.0516" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="901.8" x="7.8" y="92.5723"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131.4" x="16.8" y="100.7133">Acknowledgement of settlement</text><path d="M51,105.9586 L51,194.1586 L206.4,194.1586 L206.4,111.9586 L200.4,105.9586 L51,105.9586 " fill="#FFFF00" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M200.4,105.9586 L200.4,111.9586 L206.4,111.9586 L200.4,105.9586 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="54.6" y="116.4996">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="59.4" y="125.6859">"accounts": [</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="64.2" y="134.8723">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="25.2" x="69" y="144.0586">"id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="128.4" x="69" y="153.2449">"reason": "motivation for closure",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="69" y="162.4313">"state": "closed."</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="64.2" y="171.6176">}</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="59.4" y="180.8039">]</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="54.6" y="189.9902">}</text><polygon fill="#A80036" points="159.6,210.2356,165.6,212.6356,159.6,215.0356,162,212.6356" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="45" x2="163.2" y1="212.6356" y2="212.6356"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="49.2" y="209.9766">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="84.6" x="57" y="209.9766">PUT - /settlement/{id}</text><polygon fill="#A80036" points="284.4,227.8219,290.4,230.2219,284.4,232.6219,286.8,230.2219" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="169.8" x2="288" y1="230.2219" y2="230.2219"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="174" y="227.5629">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="69" x="181.8" y="227.5629">Update settlement</text><polygon fill="#A80036" points="409.2,245.4082,415.2,247.8082,409.2,250.2082,411.6,247.8082" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="294.6" x2="412.8" y1="247.8082" y2="247.8082"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="298.8" y="245.1492">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="69" x="306.6" y="245.1492">Update settlement</text><polygon fill="#A80036" points="721.8,271.9945,727.8,274.3945,721.8,276.7945,724.2,274.3945" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="422.4" x2="725.4" y1="274.3945" y2="274.3945"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="426.6" y="267.3287">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="108" x="434.4" y="262.7356">Lookup settlement and state</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.8" x="434.4" y="271.9219">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="19.2" x="480.6" y="271.9219">2001</text><polygon fill="#FFFFE0" filter="url(#f2ax4qq3uxfwg)" points="687,282.5672,776.4,282.5672,782.4,293.9672,776.4,305.3672,687,305.3672,681,293.9672,687,282.5672" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="40.2" x="688.2" y="292.5082">settlement</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="87" x="688.2" y="301.6945">settlementStateChange</text><polygon fill="#A80036" points="429,318.9399,423,321.3399,429,323.7399,426.6,321.3399" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="425.4" x2="731.4" y1="321.3399" y2="321.3399"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="432.6" y="318.6809">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="440.4" y="318.6809">Return Settlement</text><path d="M413.4,330.5262 L463.8,330.5262 L463.8,334.7262 L457.8,340.7262 L413.4,340.7262 L413.4,330.5262 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="52.759" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="205.8" x="413.4" y="330.5262"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23.4" x="422.4" y="338.6672">break</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143.4" x="472.8" y="338.107">[verify settlement exist &amp; settlement_state]</text><path d="M419.4,345.1125 L577.2,345.1125 L577.2,349.3125 L571.2,355.3125 L419.4,355.3125 L419.4,345.1125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="33.9727" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="160.8" x="419.4" y="345.1125"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130.8" x="428.4" y="353.2535">Validate settlement exist &amp; state</text><path d="M425.4,358.4988 L425.4,373.4988 L546,373.4988 L546,364.4988 L540,358.4988 L425.4,358.4988 " fill="#D3D3D3" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M540,358.4988 L540,364.4988 L546,364.4988 L540,358.4988 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="108" x="429" y="369.0399">settlementState != 'SETTLED'</text><polygon fill="#A80036" points="721.8,406.6852,727.8,409.0852,721.8,411.4852,724.2,409.0852" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="422.4" x2="725.4" y1="409.0852" y2="409.0852"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="426.6" y="402.0194">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="135.6" x="434.4" y="397.4262">Retrieve list of requested account(s)</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.8" x="434.4" y="406.6125">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="19.2" x="480.6" y="406.6125">2001</text><polygon fill="#FFFFE0" filter="url(#f2ax4qq3uxfwg)" points="650.4,417.2578,813.6,417.2578,819.6,428.6578,813.6,440.0578,650.4,440.0578,644.4,428.6578,650.4,417.2578" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="114" x="651.6" y="427.1988">settlementParticipantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="160.8" x="651.6" y="436.3852">settlementParticipantCurrencyStateChange</text><polygon fill="#A80036" points="429,453.6305,423,456.0305,429,458.4305,426.6,456.0305" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="425.4" x2="731.4" y1="456.0305" y2="456.0305"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="432.6" y="453.3715">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="39" x="440.4" y="453.3715">Return list</text><path d="M367.2,465.2168 L417.6,465.2168 L417.6,469.4168 L411.6,475.4168 L367.2,475.4168 L367.2,465.2168 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="106.118" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="259.8" x="367.2" y="465.2168"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23.4" x="376.2" y="473.3578">break</text><path d="M373.2,479.8031 L594,479.8031 L594,484.0031 L588,490.0031 L373.2,490.0031 L373.2,479.8031 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="87.3316" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="247.8" x="373.2" y="479.8031"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193.8" x="382.2" y="487.9442">Validate list of accounts (participantCurrencyId)</text><path d="M425.4,493.1895 L425.4,508.1895 L495.6,508.1895 L495.6,499.1895 L489.6,493.1895 L425.4,493.1895 " fill="#D3D3D3" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M489.6,493.1895 L489.6,499.1895 L495.6,499.1895 L489.6,493.1895 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="429" y="503.7305">validList = true</text><path d="M379.2,517.9758 L423.6,517.9758 L423.6,522.1758 L417.6,528.1758 L379.2,528.1758 L379.2,517.9758 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="44.959" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="235.8" x="379.2" y="517.9758"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17.4" x="388.2" y="526.1168">loop</text><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="422.4" x2="447.6" y1="550.3348" y2="550.3348"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="447.6" x2="447.6" y1="550.3348" y2="558.1348"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="423" x2="447.6" y1="558.1348" y2="558.1348"/><polygon fill="#A80036" points="429,555.7348,423,558.1348,429,560.5348,426.6,558.1348" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="426.6" y="542.8963">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="171" x="434.4" y="538.3031">if participantCurrencyState != 'NOT_SETTLED'</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="79.8" x="434.4" y="547.4895">then validList = false</text><path d="M379.2,579.7348 L478.2,579.7348 L478.2,583.9348 L472.2,589.9348 L379.2,589.9348 L379.2,579.7348 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="75.518" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="499.8" x="379.2" y="579.7348"/><text fill="#0000FF" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="388.2" y="587.8758">DB TRANSACTION</text><polygon fill="#A80036" points="724.8,600.3211,730.8,602.7211,724.8,605.1211,727.2,602.7211" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="422.4" x2="728.4" y1="602.7211" y2="602.7211"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="426.6" y="600.0621">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="123" x="434.4" y="600.0621">Update participant account state</text><polygon fill="#FFFFE0" filter="url(#f2ax4qq3uxfwg)" points="597,610.7074,867,610.7074,873,631.1074,867,652.1074,597,652.1074,591,631.1074,597,610.7074" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="48" x="598.2" y="620.6485">INSERT INTO</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175.2" x="648.6" y="620.6485">settlementParticipantCurrencyStateChange</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="267.6" x="598.2" y="629.8348">SELECT settlementParticipantCurrencyId, payload.state, payload.reason</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="138" x="598.2" y="639.0211">FROM settlementParticipantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="165.6" x="598.2" y="648.2074">WHERE settlementId = payload.settlementId</text><polygon fill="#A80036" points="721.8,669.6528,727.8,672.0528,721.8,674.4528,724.2,672.0528" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="422.4" x2="725.4" y1="672.0528" y2="672.0528"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="426.6" y="669.3938">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="189" x="439.8" y="669.3938">Obtain list of Participants and settlementWindows</text><polygon fill="#FFFFE0" filter="url(#f2ax4qq3uxfwg)" points="623.4,680.0391,840,680.0391,846,714.2391,840,749.0391,623.4,749.0391,617.4,714.2391,623.4,680.0391" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="91.2" x="624.6" y="689.9801">SELECT pc.participantId </text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="168" x="624.6" y="699.1664">FROM settlementParticipantCurrency AS spc </text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="131.4" x="624.6" y="708.3528">JOIN participantCurrency AS pc ON</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="203.4" x="634.2" y="717.5391">pc.participantCurrencyId = spc.participantCurrencyId </text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="195.6" x="624.6" y="726.7254">WHERE spc.settlementId = payload.settlement&lt;id&gt; </text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="204.6" x="634.2" y="735.9117">AND pc.participantCurrencyId = payload.account&lt;id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="164.4" x="624.6" y="745.0981">GROUP BY participantCurrency.participantId</text><path d="M559.8,755.1434 L559.8,779.1434 L901.2,779.1434 L901.2,761.1434 L895.2,755.1434 L559.8,755.1434 " fill="#D3D3D3" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M895.2,755.1434 L895.2,761.1434 L901.2,761.1434 L895.2,755.1434 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="328.8" x="563.4" y="765.6844">Response back includes the Participant, settlementWindow and settlementWindowState</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="139.8" x="563.4" y="774.8707">for the specified Account(s) updated.</text><polygon fill="#A80036" points="429,795.116,423,797.516,429,799.916,426.6,797.516" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="425.4" x2="731.4" y1="797.516" y2="797.516"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="432.6" y="794.8571">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="276" x="445.8" y="794.8571">Return list of Participants and settlementWindows for account(s) updated</text><polygon fill="#A80036" points="304.2,812.7024,298.2,815.1024,304.2,817.5024,301.8,815.1024" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="300.6" x2="415.8" y1="815.1024" y2="815.1024"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="307.8" y="812.4434">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="94.2" x="321" y="812.4434">Status update successful</text><polygon fill="#A80036" points="179.4,830.2887,173.4,832.6887,179.4,835.0887,177,832.6887" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="175.8" x2="294" y1="832.6887" y2="832.6887"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="183" y="830.0297">13</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="94.2" x="196.2" y="830.0297">Status update successful</text><path d="M24.6,840.675 L24.6,1140.075 L161.4,1140.075 L161.4,846.675 L155.4,840.675 L24.6,840.675 " fill="#FFFFE0" filter="url(#f2ax4qq3uxfwg)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M155.4,840.675 L155.4,846.675 L161.4,846.675 L155.4,840.675 " fill="#FFFFE0" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="28.2" y="851.216">[</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="33" y="860.4024">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="25.2" x="37.8" y="869.5887">"Id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="60" x="37.8" y="878.775">"State": "string",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="87" x="37.8" y="887.9614">"settlementWindows": [</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="42.6" y="897.1477">[</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="47.4" y="906.334">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="25.2" x="52.2" y="915.5203">"id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="66.6" x="52.2" y="924.7067">"reason": "string",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="60" x="52.2" y="933.893">"state": "string",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="52.2" y="943.0793">"createdDate": "string",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="47.4" y="952.2657">}</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="42.6" y="961.452">]</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="4.8" x="37.8" y="970.6383">],</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="37.8" y="979.8246">"Participants": [</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="42.6" y="989.011">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="25.2" x="47.4" y="998.1973">"id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="47.4" y="1007.3836">"accounts": [</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="52.2" y="1016.57">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="48.6" x="57" y="1025.7563">"id": "string",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="66.6" x="57" y="1034.9426">"reason": "string",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="70.2" x="57" y="1044.1289">"state": "SETTLED",</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="95.4" x="57" y="1053.3153">"netSettlementAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="46.8" x="61.8" y="1062.5016">"amount": 0,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="71.4" x="61.8" y="1071.6879">"currency": "string"</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="57" y="1080.8743">}</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="52.2" y="1090.0606">}</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="47.4" y="1099.2469">]</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="42.6" y="1108.4332">}</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="37.8" y="1117.6196">]</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="33" y="1126.8059">}</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="28.2" y="1135.9922">]</text><polygon fill="#A80036" points="51.6,1156.2375,45.6,1158.6375,51.6,1161.0375,49.2,1158.6375" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="48" x2="169.2" y1="1158.6375" y2="1158.6375"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="55.2" y="1155.9786">14</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="94.2" x="68.4" y="1155.9786">Status update successful</text><!--
@startuml
title 6.2.5. updateSettlementById PUT: /updateSettlementById
autonumber



actor "Hub Employee" as OPERATOR

boundary "Settlement Service API" as SSAPI
control "Settlement" as SETTLEMENT
entity "Settlement DAO" as SETTLE_DAO

database "Central Store" as DB

box "Central HUB" #LightPink
    participant OPERATOR
end box

box "Settlement Service" #LightGreen
    participant SSAPI
    participant SETTLEMENT
    participant SETTLE_DAO
end box

box "Central Services" #LightYellow
    participant DB
end box

group Acknowledgement of settlement
    activate OPERATOR
    note right of OPERATOR #Yellow
        {
          "accounts": [
            {
              "id": 0,
              "reason": "motivation for closure",
              "state": "closed."
            }
          ]
        }
    end note
    OPERATOR -> SSAPI:         PUT - /settlement/{id}
    deactivate OPERATOR
    activate SSAPI

    SSAPI -> SETTLEMENT: Update settlement
    deactivate SSAPI
    activate SETTLEMENT

    SETTLEMENT -> SETTLE_DAO: Update settlement
    deactivate SETTLEMENT
    activate SETTLE_DAO

    SETTLE_DAO -> DB: Lookup settlement and state \n<color #FF0000><b>Error code:</b> 2001</color>
    activate DB
    hnote over DB #LightYellow
        settlement
        settlementStateChange
    end hnote

    SETTLE_DAO <- - DB: Return Settlement
    deactivate DB
    break verify settlement exist & settlement_state
        group Validate settlement exist & state
            note right of SETTLE_DAO #LightGray
               settlementState != 'SETTLED'
            end note
        end
    end

    SETTLE_DAO -> DB: Retrieve list of requested account(s) \n<color #FF0000><b>Error code:</b> 2001</color>
    activate DB
    hnote over DB #LightYellow
        settlementParticipantCurrency
        settlementParticipantCurrencyStateChange
    end hnote
    DB - -> SETTLE_DAO: Return list
    deactivate DB

    break
        group Validate list of accounts (participantCurrencyId)
            note right of SETTLE_DAO #LightGray
                validList = true
            end note
            loop
                SETTLE_DAO <-> SETTLE_DAO: if participantCurrencyState != 'NOT_SETTLED' \nthen validList = false
            end loop
        end
    end
    group <color #blue>DB TRANSACTION</color>
    SETTLE_DAO -> DB: Update participant account state
        hnote over DB #LightYellow
            INSERT INTO **settlementParticipantCurrencyStateChange**
            SELECT settlementParticipantCurrencyId, payload.state, payload.reason
            FROM settlementParticipantCurrency
            WHERE settlementId = payload.settlementId
        end hnote


        end
        SETTLE_DAO -> DB: Obtain list of Participants and settlementWindows
        activate DB
        hnote over DB #LightYellow
            SELECT pc.participantId 
            FROM settlementParticipantCurrency AS spc 
            JOIN participantCurrency AS pc ON
                pc.participantCurrencyId = spc.participantCurrencyId 
            WHERE spc.settlementId = payload.settlement<id> 
                AND pc.participantCurrencyId = payload.account<id>
            GROUP BY participantCurrency.participantId
        end hnote
        note over DB #LightGray
            Response back includes the Participant, settlementWindow and settlementWindowState
            for the specified Account(s) updated.
        end note
        SETTLE_DAO <- - DB: Return list of Participants and settlementWindows for account(s) updated
        deactivate DB
        SETTLEMENT <- SETTLE_DAO: Status update successful
        activate SETTLEMENT
        SETTLEMENT -> SSAPI: Status update successful
        deactivate SETTLEMENT
        activate SSAPI
        note left of SSAPI #LightYellow
        [
          {
            "Id": 0,
            "State": "string",
            "settlementWindows": [
              [
                {
                  "id": 0,
                  "reason": "string",
                  "state": "string",
                  "createdDate": "string",
                }
              ]
            ],
            "Participants": [
              {
                "id": 0,
                "accounts": [
                  {
                    "id": "string",
                    "reason": "string",
                    "state": "SETTLED",
                    "netSettlementAmount": {
                      "amount": 0,
                      "currency": "string"
                    }
                  }
                ]
              }
            ]
          }
        ]
        end note
        SSAPI -> OPERATOR: Status update successful
        deactivate SSAPI

        deactivate SSAPI
end

@enduml

PlantUML version 1.2018.01(Sun Jan 28 20:08:22 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1136-b29
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>