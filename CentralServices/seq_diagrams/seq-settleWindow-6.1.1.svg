<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="549px" preserveAspectRatio="none" style="width:610px;height:549px;" version="1.1" viewBox="0 0 610 549" width="610.2px" zoomAndPan="magnify"><defs><filter height="300%" id="f142ipffwq0t80" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2000000476837158"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4000000953674316" dy="2.4000000953674316" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="239.7" y="14.1211">6.1.1. GET:: Settlement Window</text><rect fill="#FFB6C1" height="522.0035" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="67.2" x="17.4" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48.6" x="26.7" y="28.234">Central HUB</text><rect fill="#90EE90" height="522.0035" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="332.4" x="85.8" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74.4" x="214.8" y="28.234">Settlement Service</text><rect fill="#FFFFE0" height="522.0035" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="148.8" x="419.4" y="20.693"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="461.4" y="28.234">Central Services</text><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="369.8449" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="231.6" y="115.5586"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="91.5316" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="361.2" y="180.5039"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="534" y="207.0902"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="388.0313" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="595.8" x="7.8" y="92.5723"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="318.886" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="583.8" x="13.8" y="157.5176"/><rect fill="#FFFFFF" height="93.9047" style="stroke: none; stroke-width: 0.6000000238418579;" width="583.8" x="13.8" y="382.4988"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="51" x2="51" y1="82.3723" y2="490.8035"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="135" x2="135" y1="82.3723" y2="490.8035"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="234.3" x2="234.3" y1="82.3723" y2="490.8035"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="364.2" x2="364.2" y1="82.3723" y2="490.8035"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="462" x2="462" y1="82.3723" y2="490.8035"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 5.0,5.0;" x1="537" x2="537" y1="82.3723" y2="490.8035"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="58.8" x="19.8" y="80.6004">Hub Employee</text><ellipse cx="51" cy="38.2793" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><path d="M51,43.0793 L51,59.2793 M43.2,47.8793 L58.8,47.8793 M51,59.2793 L43.2,68.2793 M51,59.2793 L58.8,68.2793 " fill="none" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="58.8" x="19.8" y="498.3246">Hub Employee</text><ellipse cx="51" cy="506.0965" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><path d="M51,510.8965 L51,527.0965 M43.2,515.6965 L58.8,515.6965 M51,527.0965 L43.2,536.0965 M51,527.0965 L58.8,536.0965 " fill="none" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="90.6" x="88.2" y="80.6004">Settlement Service API</text><path d="M123,55.6793 L123,70.0793 M123,62.8793 L133.2,62.8793 " fill="none" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="140.4" cy="62.8793" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="90.6" x="88.2" y="498.3246">Settlement Service API</text><path d="M123,502.4965 L123,516.8965 M123,509.6965 L133.2,509.6965 " fill="none" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="140.4" cy="509.6965" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="78.6" x="193.5" y="80.6004">Settlement Window</text><ellipse cx="234.6" cy="62.8793" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="232.2,55.6793,235.8,52.6793,234.6,55.6793,235.8,58.6793,232.2,55.6793" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="78.6" x="193.5" y="498.3246">Settlement Window</text><ellipse cx="234.6" cy="509.6965" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><polygon fill="#A80036" points="232.2,502.4965,235.8,499.4965,234.6,502.4965,235.8,505.4965,232.2,502.4965" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="99.6" x="312.6" y="80.6004">Settlement Window DAO</text><ellipse cx="364.2" cy="62.8793" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><line style="stroke: #A80036; stroke-width: 1.2000000476837158;" x1="357" x2="371.4" y1="71.2793" y2="71.2793"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="99.6" x="312.6" y="498.3246">Settlement Window DAO</text><ellipse cx="364.2" cy="509.6965" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><line style="stroke: #A80036; stroke-width: 1.2000000476837158;" x1="357" x2="371.4" y1="518.0965" y2="518.0965"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="421.8" y="80.6004">Central Service API</text><path d="M449.7,55.6793 L449.7,70.0793 M449.7,62.8793 L459.9,62.8793 " fill="none" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="467.1" cy="62.8793" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="421.8" y="498.3246">Central Service API</text><path d="M449.7,502.4965 L449.7,516.8965 M449.7,509.6965 L459.9,509.6965 " fill="none" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><ellipse cx="467.1" cy="509.6965" fill="#FEFECE" filter="url(#f142ipffwq0t80)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.2000000476837158;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="54" x="508.2" y="80.6004">Central Store</text><path d="M526.2,50.8793 C526.2,44.8793 537,44.8793 537,44.8793 C537,44.8793 547.8,44.8793 547.8,50.8793 L547.8,66.4793 C547.8,72.4793 537,72.4793 537,72.4793 C537,72.4793 526.2,72.4793 526.2,66.4793 L526.2,50.8793 " fill="#FEFECE" filter="url(#f142ipffwq0t80)" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><path d="M526.2,50.8793 C526.2,56.8793 537,56.8793 537,56.8793 C537,56.8793 547.8,56.8793 547.8,50.8793 " fill="none" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="54" x="508.2" y="498.3246">Central Store</text><path d="M526.2,506.0965 C526.2,500.0965 537,500.0965 537,500.0965 C537,500.0965 547.8,500.0965 547.8,506.0965 L547.8,521.6965 C547.8,527.6965 537,527.6965 537,527.6965 C537,527.6965 526.2,527.6965 526.2,521.6965 L526.2,506.0965 " fill="#FEFECE" filter="url(#f142ipffwq0t80)" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><path d="M526.2,506.0965 C526.2,512.0965 537,512.0965 537,512.0965 C537,512.0965 547.8,512.0965 547.8,506.0965 " fill="none" style="stroke: #000000; stroke-width: 0.9000000357627869;"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="369.8449" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="231.6" y="115.5586"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="91.5316" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="361.2" y="180.5039"/><rect fill="#FFFFFF" filter="url(#f142ipffwq0t80)" height="18" style="stroke: #A80036; stroke-width: 0.6000000238418579;" width="6" x="534" y="207.0902"/><path d="M7.8,92.5723 L197.4,92.5723 L197.4,96.7723 L191.4,102.7723 L7.8,102.7723 L7.8,92.5723 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="388.0313" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="595.8" x="7.8" y="92.5723"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162.6" x="16.8" y="100.7133">Request Settlement Window information</text><polygon fill="#A80036" points="224.4,113.1586,230.4,115.5586,224.4,117.9586,226.8,115.5586" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="51" x2="228" y1="115.5586" y2="115.5586"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="55.2" y="112.8996">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="161.4" x="63" y="112.8996">API call for settlement window information</text><path d="M94.2,123.5449 L94.2,147.5449 L226.2,147.5449 L226.2,129.5449 L220.2,123.5449 L94.2,123.5449 " fill="#FFFF00" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M220.2,123.5449 L220.2,129.5449 L226.2,129.5449 L220.2,123.5449 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="36.6" x="97.8" y="134.0859">Messages</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="119.4" x="97.8" y="143.2723">GET:: '/settlementWindows/{id}'</text><path d="M13.8,157.5176 L51,157.5176 L51,161.7176 L45,167.7176 L13.8,167.7176 L13.8,157.5176 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6000000238418579;"/><rect fill="none" height="318.886" style="stroke: #000000; stroke-width: 1.2000000476837158;" width="583.8" x="13.8" y="157.5176"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.2" x="22.8" y="165.6586">alt</text><polygon fill="#A80036" points="354,178.1039,360,180.5039,354,182.9039,356.4,180.5039" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="237.6" x2="357.6" y1="180.5039" y2="180.5039"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="241.8" y="177.8449">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="104.4" x="249.6" y="177.8449">Request Settlement Window</text><polygon fill="#A80036" points="526.8,204.6902,532.8,207.0902,526.8,209.4902,529.2,207.0902" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="367.2" x2="530.4" y1="207.0902" y2="207.0902"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="371.4" y="200.0244">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="87" x="379.2" y="195.4313">Get Settlement Window</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.8" x="379.2" y="204.6176">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="19.2" x="425.4" y="204.6176">2001</text><polygon fill="#FFFFE0" filter="url(#f142ipffwq0t80)" points="487.8,233.2629,585.6,233.2629,591.6,244.6629,585.6,256.0629,487.8,256.0629,481.8,244.6629,487.8,233.2629" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="95.4" x="489" y="243.2039">settlementWindowStateId</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="69.6" x="489" y="252.3902">settlementWindow</text><polygon fill="#A80036" points="244.2,269.6356,238.2,272.0356,244.2,274.4356,241.8,272.0356" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="240.6" x2="363.6" y1="272.0356" y2="272.0356"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="247.8" y="269.3766">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="99" x="255.6" y="269.3766">Return Settlement Window</text><path d="M240.6,280.0219 L240.6,359.2219 L372,359.2219 L372,286.0219 L366,280.0219 L240.6,280.0219 " fill="#FFFF00" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M366,280.0219 L366,286.0219 L372,286.0219 L366,280.0219 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="36.6" x="244.2" y="290.5629">Messages</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="244.2" y="299.7492">{</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="109.2" x="253.8" y="308.9356">"id": &lt;settlementWindowId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="73.2" x="253.8" y="318.1219">"reason": &lt;blabla&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="253.8" y="327.3082">"state": &lt;open&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="105" x="253.8" y="336.4945">"createdDate": &lt;dateTime&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="106.8" x="253.8" y="345.6809">"changedDate": &lt;&gt;dateTime</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="2.4" x="246.6" y="354.8672">}</text><polygon fill="#A80036" points="57.6,375.1125,51.6,377.5125,57.6,379.9125,55.2,377.5125" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="54" x2="231" y1="377.5125" y2="377.5125"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="61.2" y="374.8535">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="119.4" x="69" y="374.8535">Return Results in agreed format</text><line style="stroke: #000000; stroke-width: 0.6000000238418579; stroke-dasharray: 2.0,2.0;" x1="13.8" x2="597.6" y1="383.0988" y2="383.0988"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103.8" x="16.8" y="389.4797">[Settlement Window not found]</text><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="237.6" x2="262.8" y1="404.2582" y2="404.2582"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="262.8" x2="262.8" y1="404.2582" y2="412.0582"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="238.2" x2="262.8" y1="412.0582" y2="412.0582"/><polygon fill="#A80036" points="244.2,409.6582,238.2,412.0582,244.2,414.4582,241.8,412.0582" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="241.8" y="401.4129">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="63.6" x="249.6" y="401.4129">Update event log</text><path d="M240.6,419.8582 L240.6,452.8582 L455.4,452.8582 L455.4,425.8582 L449.4,419.8582 L240.6,419.8582 " fill="#ADD8E6" filter="url(#f142ipffwq0t80)" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><path d="M449.4,419.8582 L449.4,425.8582 L455.4,425.8582 L449.4,419.8582 " fill="#ADD8E6" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="82.2" x="244.2" y="430.3992">Log ERROR Messages.</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="111.6" x="244.2" y="439.5856">Update Event log with ERROR.</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="202.2" x="244.2" y="448.7719">Continue process by opening new settlementWindow.</text><polygon fill="#A80036" points="57.6,469.0172,51.6,471.4172,57.6,473.8172,55.2,471.4172" style="stroke: #A80036; stroke-width: 0.6000000238418579;"/><line style="stroke: #A80036; stroke-width: 0.6000000238418579;" x1="54" x2="231" y1="471.4172" y2="471.4172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.4" x="61.2" y="468.7582">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="138" x="69" y="468.7582">Notification of unsuccessful request</text><!--
@startuml
title 6.1.1. GET:: Settlement Window

autonumber



actor "Hub Employee" as OPERATOR

boundary "Settlement Service API" as SSAPI
control "Settlement Window" as SETTLEWINDOW
entity "Settlement Window DAO" as SETTLEWINDOW_DAO

boundary "Central Service API" as CSAPI
database "Central Store" as DB

box "Central HUB" #LightPink
    participant OPERATOR
end box

box "Settlement Service" #LightGreen
    participant SSAPI
    participant SETTLEWINDOW
    participant SETTLEWINDOW_DAO
end box

box "Central Services" #LightYellow
    participant CSAPI
    participant DB
end box


group Request Settlement Window information
    OPERATOR -> SETTLEWINDOW: API call for settlement window information
    note left of SETTLEWINDOW #Yellow
        Messages
        GET:: '/settlementWindows/{id}'
    end note

    activate SETTLEWINDOW
    alt
    SETTLEWINDOW -> SETTLEWINDOW_DAO: Request Settlement Window
    activate SETTLEWINDOW_DAO
        SETTLEWINDOW_DAO - -> DB: Get Settlement Window \n<color #FF0000><b>Error code:</b> 2001</color>
            activate DB
            hnote over DB #LightYellow
                settlementWindowStateId
                settlementWindow
            end hnote
            deactivate DB

    SETTLEWINDOW <- SETTLEWINDOW_DAO: Return Settlement Window
    deactivate SETTLEWINDOW_DAO
        note right of SETTLEWINDOW #Yellow
            Messages
            {
                "id": <settlementWindowId>,
                "reason": <blabla>,
                "state": <open>,
                "createdDate": <dateTime>,
                "changedDate": <>dateTime
             }
        end note
    OPERATOR <- SETTLEWINDOW: Return Results in agreed format
    else Settlement Window not found
    SETTLEWINDOW -> SETTLEWINDOW: Update event log
        note right of SETTLEWINDOW #LightBlue
            Log ERROR Messages.
            Update Event log with ERROR.
            Continue process by opening new settlementWindow.
        end note
    SETTLEWINDOW -> OPERATOR: Notification of unsuccessful request
    end
end
@enduml

PlantUML version 1.2018.01(Sun Jan 28 20:08:22 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1136-b29
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>